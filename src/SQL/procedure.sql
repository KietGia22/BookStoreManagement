set serveroutput on;
-------------------------INSERT, UPDATE, DELETE--------------------------------------------
--TAIKHOAN
CREATE OR REPLACE PROCEDURE INSERT_TK(dn TAIKHOAN.TENDN%TYPE, mk TAIKHOAN.MATKHAU%TYPE, hten TAIKHOAN.HOTEN%TYPE, ngsinh TAIKHOAN.NGAYSINH%TYPE,  dc TAIKHOAN.DIACHI%TYPE, sdt TAIKHOAN.SDT%TYPE, gmail TAIKHOAN.GMAIL%TYPE, cv TAIKHOAN.CHUCVU%TYPE, ngtao TAIKHOAN.NGAYTAOTAIKHOAN%TYPE, luong TAIKHOAN.LUONG%TYPE)
AS
BEGIN 
        INSERT INTO TAIKHOAN(MATK, TENDN, MATKHAU, HOTEN, NGAYSINH, DIACHI, SDT, GMAIL, NGAYTAOTAIKHOAN, CHUCVU, LUONG) VALUES (SQ_TK.NEXTVAL, dn, mk, hten, ngsinh, dc, sdt, gmail, ngtao, cv, luong);
        COMMIT;
END;
/
CREATE OR REPLACE PROCEDURE UPDATE_TK(mtk TAIKHOAN.MATK%TYPE, hten TAIKHOAN.HOTEN%TYPE, ngsinh TAIKHOAN.NGAYSINH%TYPE,  dc TAIKHOAN.DIACHI%TYPE, sdt TAIKHOAN.SDT%TYPE, gmail TAIKHOAN.GMAIL%TYPE, cv TAIKHOAN.CHUCVU%TYPE, ngtao TAIKHOAN.NGAYTAOTAIKHOAN%TYPE, luong TAIKHOAN.LUONG%TYPE)
AS
BEGIN 
       UPDATE TAIKHOAN
       SET HOTEN = hten,
       NGAYSINH = ngsinh,
       DIACHI = dc,
       SDT = sdt,
       GMAIL = gmail,
       NGAYTAOTAIKHOAN = ngtao,
       CHUCVU = cv,
       LUONG = luong
       WHERE MATK = mtk;
       COMMIT;
END;
/
CREATE OR REPLACE PROCEDURE DELETE_TK(mtk TAIKHOAN.MATK%TYPE)
AS
BEGIN 
       DELETE FROM TAIKHOAN WHERE MATK = mtk;
       COMMIT;
END;
--KHACHHANG
CREATE OR REPLACE PROCEDURE INSERT_KH(hten KHACHHANG.HOTEN%TYPE, ngsinh KHACHHANG.NGAYSINH%TYPE,  dc KHACHHANG.DIACHI%TYPE, sdt KHACHHANG.SDT%TYPE, gtinh KHACHHANG.GIOITINH%TYPE, gc KHACHHANG.GHICHU%TYPE)
AS
BEGIN 
        INSERT INTO KHACHHANG(MAKH, HOTEN, SDT, DIACHI, NGAYSINH, GIOITINH, GHICHU) VALUES (SQ_KH.NEXTVAL, hten, sdt, dc, ngsinh, gtinh, gc);
        COMMIT;
END;
/
CREATE OR REPLACE PROCEDURE UPDATE_KH(mkh KHACHHANG.MAKH%TYPE, hten KHACHHANG.HOTEN%TYPE, ngsinh KHACHHANG.NGAYSINH%TYPE,  dc KHACHHANG.DIACHI%TYPE, sdt KHACHHANG.SDT%TYPE, gtinh KHACHHANG.GIOITINH%TYPE, gc KHACHHANG.GHICHU%TYPE)
AS
BEGIN 
       UPDATE KHACHHANG
       SET HOTEN = hten,
       NGAYSINH = ngsinh,
       DIACHI = dc,
       SDT = sdt,
       GIOITINH = gtinh,
       GHICHU = gc
       WHERE MAKH = mkh;
       COMMIT;
END;
/
CREATE OR REPLACE PROCEDURE DELETE_KH(mkh KHACHHANG.MAKH%TYPE)
AS
BEGIN 
        DELETE FROM KHACHHANG WHERE MAKH = mkh;
        COMMIT;
END;
/
--SACH
CREATE OR REPLACE PROCEDURE INSERT_SACH(ts SACH.TENSACH%TYPE, gia SACH.GIA%TYPE, mtl SACH.MATL%TYPE, sl SACH.SLTON%TYPE, anh SACH.ANHSACH%TYPE, gc SACH.GHICHU%TYPE, tg SACH.TENTG%TYPE, nxb SACH.NXB%TYPE)
AS
BEGIN 
        INSERT INTO SACH(MASACH, TENSACH, GIA, MATL, SLTON, TENTG, NXB, ANHSACH, GHICHU) VALUES (SQ_S.NEXTVAL, ts, gia, mtl, sl, tg, nxb, anh, gc);
        COMMIT;
END;
/
CREATE OR REPLACE PROCEDURE UPDATE_SACH(ms SACH.MASACH%TYPE, ts SACH.TENSACH%TYPE, gia SACH.GIA%TYPE, mtl SACH.MATL%TYPE, sl SACH.SLTON%TYPE, anh SACH.ANHSACH%TYPE, gc SACH.GHICHU%TYPE, tg SACH.TENTG%TYPE, nxb SACH.NXB%TYPE)
AS
BEGIN 
        UPDATE SACH
        SET TENSACH = ts,
        GIA = gia,
        MATL = mtl,
        SLTON = sl,
        ANHSACH = anh,
        GHICHU = gc,
        TENTG = tg,
        NXB = nxb
        WHERE MASACH = ms;
        COMMIT;
END;
/
CREATE OR REPLACE PROCEDURE DELETE_SACH(ms SACH.MASACH%TYPE)
AS
BEGIN 
        DELETE FROM SACH WHERE MASACH = ms;
        COMMIT;
END;
/
--HOADON
CREATE OR REPLACE PROCEDURE INSERT_HD(mkh HOADON.MAKH%TYPE, mtk HOADON.MATK%TYPE)
AS 
BEGIN
       INSERT INTO HOADON(MAHD, MAKH, MATK) VALUES (SQ_HD.NEXTVAL, mkh, mtk);
       COMMIT;
END;
/
---PHIEUNHAP
CREATE OR REPLACE PROCEDURE INSERT_PN(ncc PHIEUNHAP.MANCC%TYPE, mtk PHIEUNHAP.MATK%TYPE)
AS 
BEGIN
       INSERT INTO PHIEUNHAP(MAPN, MANCC, MATK) VALUES (SQ_PN.NEXTVAL, ncc, mtk);
       COMMIT;
END;
/
--NHACUNGCAP
CREATE OR REPLACE PROCEDURE INSERT_NCC(tenncc NHACUNGCAP.TENNCC%TYPE, dc NHACUNGCAP.DIACHI%TYPE, sdt NHACUNGCAP.SDT%TYPE)
AS
BEGIN 
        INSERT INTO NHACUNGCAP(MANCC, TENNCC, DIACHI, SDT) VALUES (SQ_NCC.NEXTVAL, tenncc, dc, sdt);
        COMMIT;
END;
/
--THELOAI
CREATE OR REPLACE PROCEDURE INSERT_TL(tentl THELOAI.TENTHELOAI%TYPE, gc THELOAI.GHICHU%TYPE)
AS
BEGIN 
        INSERT INTO THELOAI(MATL, TENTHELOAI, GHICHU) VALUES (SQ_TL.NEXTVAL, tentl, gc);
        COMMIT;
END;
/
CREATE OR REPLACE PROCEDURE UPDATE_TL(mtl THELOAI.MATL%TYPE, tentl THELOAI.TENTHELOAI%TYPE, gc THELOAI.GHICHU%TYPE)
AS
BEGIN 
        UPDATE THELOAI
        SET TENTHELOAI = tentl,
        GHICHU = gc
        WHERE MATL = mtl;
        COMMIT;
END;
/
CREATE OR REPLACE PROCEDURE DELETE_TL(mtl THELOAI.MATL%TYPE)
AS
BEGIN 
        DELETE FROM THELOAI WHERE MATL = mtl;
        COMMIT;
END;